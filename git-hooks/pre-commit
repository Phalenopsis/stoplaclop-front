#!/bin/bash
# EmpÃªche les commits directs sur main et dev

branch=$(git rev-parse --abbrev-ref HEAD)

if [[ "$branch" == "main" || "$branch" == "dev" ]]; then
  echo "âŒ Vous ne pouvez pas committer directement sur la branche '$branch'."
  echo "ğŸ‘‰ Veuillez crÃ©er une feature branch (ex: feat/ma-fonctionnalite)"
  exit 1
fi

# VÃ©rification du nom de branche
if ! [[ "$branch" =~ ^(feat|fix|hotfix)/.+$ ]]; then
  echo "âŒ Nom de branche invalide : '$branch'."
  echo "ğŸ‘‰ Seules les branches feat/, fix/, hotfix/ sont autorisÃ©es."
  exit 1
fi

exit 0
